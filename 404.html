<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Pay me in Exposure</title>
  <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.0.min.js"></script>

  <meta name="description" content="The simplest payment processing system">
  <meta name="author" content="Exposure">
  <meta property="og:title" content="Exposure">
  <meta property="og:description" content="A simple, minimal payment processing system that allows you to pay in Exposure.">
  <meta property="og:url" content="https://exposure.money/">
  <meta property="og:type" content="website">
  <meta property="og:image" content="exposure.png">

  <meta name="twitter:site" content="@mimosaagency">
  <meta name="twitter:title" content="Exposure">
  <meta name="twitter:description" content="The simplest payment processing system.">
  <meta name="twitter:url" content="https://exposure.money/">
  <meta name="twitter:card" content="photo">
  <meta name="twitter:image src" content="https://github.com/danilosierrac/exposure/blob/master/exposure.png?raw=true" />

  <head profile="http://www.w3.org/2005/10/profile">
  <link rel="icon" 
      type="image/png" 
      href="exposure.ico">
<link href="https://fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet">
<style>
body {
  font-family: -apple-system, "San Francisco", BlinkMacSystemFont, ‚ÄúSegoe UI‚Äù, Roboto, Helvetica, Arial, sans-serif, ‚ÄúApple Color Emoji‚Äù, ‚ÄúSegoe UI Emoji‚Äù, ‚ÄúSegoe UI Symbol‚Äù; 
  max-width: 80%; 
  margin-left: 10%;
  word-wrap: break-word;
}

input[type="text"] 
{
  margin-top: 30px;
  margin-bottom: 30px;
  padding-top: 10px;
  padding-bottom: 10px;
  padding-left: 10px;
  border: none;
  text-align: left;
  border-bottom: dashed 5px #FF2D55;
  transition: border 0.3s;
  color: #FF2D55;
  word-wrap: break-word;
  box-sizing : border-box;
  -moz-box-shadow: 4px 3px 0px 0px #2c292e;
  -webkit-box-shadow: 4px 3px 0px 0px #2c292e;
  box-shadow: 4px 3px 0px 0px #2c292e;
  background-color: #ededed;
}

input[type="text"]:enabled,
  input[type="text"].enabled {
  margin-top: 30px;
  margin-bottom: 30px;
  padding-top: 10px;
  padding-bottom: 10px;
  padding-left: 10px;
  border-bottom: dashed 5px #FF2D55;
  font-size: 1em;
  color: #FF2D55;
  word-wrap: break-word;
  box-sizing : border-box;
  -moz-box-shadow: 4px 3px 0px 0px #2c292e;
  -webkit-box-shadow: 4px 3px 0px 0px #2c292e;
  box-shadow: 4px 3px 0px 0px #2c292e;
  background-color: #ededed;
}

  input[type="text"]:focus,
  input[type="text"].focus {

  margin-top: 30px;
  margin-bottom: 30px;
  padding-top: 10px;
  padding-bottom: 10px;
  padding-left: 10px;
  border-bottom: dashed 5px #FF2D55;
  font-size: 1em;
  color: #FF2D55;
  word-wrap: break-word;
  box-sizing : border-box;
  -moz-box-shadow: 4px 3px 0px 0px #2c292e;
  -webkit-box-shadow: 4px 3px 0px 0px #2c292e;
  box-shadow: 4px 3px 0px 0px #2c292e;
  background-color: #ededed;
}

input[type="text"]:blur,
  input[type="text"].blur {
  margin-top: 30px;
  margin-bottom: 30px;
  padding-top: 10px;
  padding-bottom: 10px;
  padding-left: 10px;
  margin-bottom: 20px;
  border-bottom: solid 5px #FF2D55;
  font-size: 1.8em;
  color: #FF2D55;
  word-wrap: break-word;
  box-sizing : border-box;
  background-color: #ededed;
}

Button {
  -moz-box-shadow: 4px 3px 0px 0px #2c292e;
  -webkit-box-shadow: 4px 3px 0px 0px #2c292e;
  box-shadow: 4px 3px 0px 0px #2c292e;
  background-color:#ff2d54;
  display:inline-block;
  cursor:pointer;
  color:#ffffff;
  font-family:Arial;
  font-size:17px;
  padding:16px 31px;
  text-decoration:none;
  border: none;
  font-size: 3em;
}

Button:hover {
  background-color:#ff2d54;
}
Button:active {
  position:relative;
  top:1px;
}


hr 
{
   border: 0;
    height: 2px;
    background: #333;
    background-color: #333;
}

h1{
  font-size: 8em;
  color: #FF2D55;
  text-decoration: underline;
}

h2 {
  font-size: 4em;
}

p {
  font-size: 3em;
}

pre{
  margin-top: 30px;
  padding: 20px 10px 20px 10px;
  color: #FF2D55;
  background-color: transparent;
  background-color: #ededed;
  outline: 0;
  border-radius: 0;
  resize: both;
  overflow: auto;
  font-size: 3em;
  border-bottom: dashed 5px #FF2D55;
  box-sizing : border-box;
  -moz-box-shadow: 4px 3px 0px 0px #2c292e;
  -webkit-box-shadow: 4px 3px 0px 0px #2c292e;
  box-shadow: 4px 3px 0px 0px #2c292e;
}

div {
/*  padding-top: 2%;*/
  padding-bottom: 5%;
  margin: auto;
}



</style>
</head>

<body>
  <!-- &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -->

  <div id="error" style="display:none;">
    <h2>üòµ Whoops! Something went wrong with that link.</h2>
    <p>Please use only your USER ID and nothing else in the field. </p> 

    <a href="http://exposure.money"><button>Start over</button></a></h2>
    <!-- TODO more explaination -->
  </div>

  <div id="pay" style="display: none;">
    <h2>The simplest, minimal payment system that allows creatives to get paid in Exposure. üìàüëç</h2>

    <p>Just click the button below to pay <strong class="username">username</strong> the amount <strong class="amount">0</strong> exposure!</p>

    <button type="button" id="button">Pay with Exposure!</button>

    <div style="margin-top: 30vh;">
      <hr>
      <p><a href="http://exposure.money" target="_blank">What is Exposure?</a> | <a href="https://www.youtube.com/watch?v=PBwAxmrE194" target="_blank">Why the Paypal Link?</a></p>
    </div>
  </div>

  <script type="text/javascript">
    function showError() {
      $("#error").show();
      return false;
    }

    function showPaymentMessage(username, amount) {
      $('#pay').find('.username').text(username);
      $('#pay').find('.amount').text(amount);

      $('#pay').show();
    }

    $(document).ready(function(){
      var path = window.location.pathname.split('/');
      var pathLength = path.length;

      // Check we're meaning to pay:
      if (pathLength < 2 || path[pathLength - 2] !== 'pay') {
        return showError();
      }

      // Get the token:
      var token = path[pathLength - 1];
      var username, amount;

      try {
        var decoded = window.atob(token);
        var decodedParts = decoded.split(':');

        username = decodedParts[0];
        amount = decodedParts[1];
      } catch(e) {
        return showError();
      }

      if (!username || !amount) {
        return showError();
      }

      showPaymentMessage(username, amount);

      $('#button').click(function(e) {
        var username = $(".username").text();
        var amount = $(".amount").text();
        window.location = "https://www.paypal.me/"+username+"/"+amount;
      });
    });
  </script>
</body>

</html>
